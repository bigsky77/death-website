{"version":3,"sources":["../../../client/components/layout-router.client.tsx"],"names":["React","useContext","useEffect","useRef","experimental_use","use","LayoutRouterContext","GlobalLayoutRouterContext","TemplateContext","AppRouterContext","fetchServerResponse","createInfinitePromise","matchSegment","walkAddRefetch","segmentPathToWalk","treeToRecreate","segment","parallelRouteKey","isLast","length","hasOwnProperty","subTree","undefined","slice","topOfElementInViewport","element","rect","getBoundingClientRect","top","InnerLayoutRouter","parallelRouterKey","url","childNodes","childProp","segmentPath","tree","path","rootLayoutIncluded","changeByServerResponse","fullTree","focusAndScrollRef","focusAndScrollElementRef","apply","current","focus","htmlElement","document","documentElement","existing","style","scrollBehavior","scrollIntoView","childNode","get","set","data","subTreeData","parallelRoutes","Map","refetchTree","URL","location","origin","Error","flightData","overrideCanonicalUrl","window","href","setTimeout","startTransition","subtree","Provider","value","div","ref","LoadingBoundary","children","loading","hasLoading","Suspense","fallback","InfinitePromiseComponent","RedirectErrorBoundary","Component","getDerivedStateFromError","error","digest","startsWith","split","redirect","render","state","props","router","replace","constructor","RedirectBoundary","NotFoundErrorBoundary","notFoundTriggered","notFound","NotFoundBoundary","ErrorBoundaryHandler","this","errorComponent","reset","setState","ErrorBoundary","OuterLayoutRouter","template","childNodesForParallelRouter","treeSegment","childPropSegment","Array","isArray","currentChildSegment","preservedSegments","map","preservedSegment","key","isActive"],"mappings":"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"}